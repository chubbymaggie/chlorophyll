int::2 leftrotate(int::2@(6,6) x, int@6 r) {
  // haven't handle the case that r > 16  
  int::2@(6,6) out;
  return out;
}

int::2@(0, 0) csum(int::2@(0,1) x, int::2@(0,1) y) {
  int::2@(0, 0) z;
  z::0 = x::0 +@0 y::0;
  z::1 = x::1 +@1 y::1 +@0 (z::0 <<@0 16);
  return z;
}


int::2@(0, 7) sumrotate(int::2@(0,1) a, int::2@(0,1) b, int::2@(4,5) m, int@6 r) {
  return csum(b, leftrotate(csum(a , m), r));
}

void main() {
  //int::2[]@({[0:16]=4},{[0:16]=5}) message[16];
  int[]@6 r[32];
  int::2@(4,5) m;
  
  int::2@(0,1) a, b, c, d, temp;
  //int@6 g;
  
  for(t from 0 to 16) {
    for(i from 0 to 32) { 
      temp = sumrotate(a,b,m,r[i]);
    }
  } 
}
