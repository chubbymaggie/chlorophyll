/*
int::2@(0,1) leftrotate(int::2@(0,1) x, int@0 r) {
  return (x <<@(0,1) r) ||@(0,1) (x >>@(0,1) (32 -@(0,1) r));
}
*/

int::2 leftrotate(int::2@(0,1) x, int@0 r) {
  return (x <<@(0,1) r) ||@(0,1) (x >>@(0,1) (32 -@(0,1) r));
}

int::2@(0,1) func_f(int::2@(0,1) b, int::2@(0,1) c, int::2@(0,1) d) {
  return (b &&@(0,1) c) ||@(0,1) (!@(0,1) b &&@(0,1) d);
}


int::2@(0,1) sumrotate(int::2@(0,1) a, int::2@(0,1) b, int::2@(0,1) f, int::2@(0,1) k, int::2@(0,1) m, int@0 r) {
  return b +@(0,1) leftrotate(a +@(0,1) f +@(0,1) k +@(0,1) m, r);
}

void main() {
  int::2[]@({[0:32]=0},{[0:32]=1}) k[32]; // full = 64 entries
  int[]@{[0:32]=0} r[32];
  int::2[]@({[0:16]=0},{[0:16]=1}) message[16];
  
  int::2@(0,1) a, b, c, d, temp;
  int g;
  
  for(t from 0 to 16) {
    for(i from 0 to 32) { 
      temp = sumrotate(a,b,func_f(b,c,d),k[i],message[g],r[i]);
    }
  } 
}
