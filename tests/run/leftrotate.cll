int leftrotate(int x, int y, int r) {
  int swap;
  if(r > 16) {
    swap = x;
    x = y;
    y = swap;
    r = r - 16;
  }
  return ((y >> (16 - r)) | (x << r)) & 65535;
}

void main() {
  int[]@{[0:16]=0,[16:32]=1,[32:48]=2,[48:64]=3} x[64];
  int[]@{[0:16]=4,[16:32]=5,[32:48]=6,[48:64]=7} y[64];
  int[]@{[0:16]=8,[16:32]=9,[32:48]=10,[48:64]=11} z[64];
  int r;
  r = 0;
  for (i from 0 to 64) {
    z[i] = leftrotate(x[i],y[i],r);
    r = r + 1;
    if (r > 32) {
      r = 0;
    }
  }
}
